<div class="relative z-100"
  aria-labelledby="<%= title %>"
  data-controller="shared--modal"
  data-event-detail=<%= event_detail.to_json %>
>
  <!--
    Background backdrop, show/hide based on modal state.

    Entering: "ease-out duration-300"
      From: "opacity-0"
      To: "opacity-100"
    Leaving: "ease-in duration-200"
      From: "opacity-100"
      To: "opacity-0"
  -->
  <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>

  <div class="fixed inset-0 z-100 h-screen overflow-x-auto flex justify-center py-6">
    <div class="grid gap-4 transform rounded-lg bg-white p-4 shadow-xl transition-all m-auto <%= size %>">
      <% if header? %>
        <div data-shared--modal-target="header" class="flex-none"><%= header %></div>
      <% else %>
        <div class="grid grid-cols-2 gap-2 items-center">
          <div class="font-bold text-xl"><%== title %></div>
          <div class="flex justify-end">
            <%=
              render Shared::ButtonComponent.new(hierarchy: :none,
                leading_icon: 'close',
                css_class: 'p-0',
                size: :xl,
                type: :button,
                data: { action: 'click->shared--modal#onClose' })
            %>
          </div>
        </div>
      <% end %>
      
      <div data-shared--modal-target="body"><%= content %></div>

      <% if footer? %>
        <div data-shared--modal-target="footer" class="flex-none"><%= footer %></div>
      <% end %>
    </div>
  </div>
</div>
